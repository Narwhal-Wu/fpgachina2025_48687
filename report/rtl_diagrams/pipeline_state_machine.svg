<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: pipeline_state_machine Pages: 1 -->
<svg width="666pt" height="668pt"
 viewBox="0.00 0.00 666.00 668.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 664)">
<title>pipeline_state_machine</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-664 662,-664 662,4 -4,4"/>
<text text-anchor="middle" x="329" y="-644.8" font-family="SimHei" font-size="14.00">五级流水线CPU状态机模型</text>
<text text-anchor="middle" x="329" y="-629.8" font-family="SimHei" font-size="14.00">Pipeline CPU State Machine Model</text>
<g id="clust1" class="cluster">
<title>cluster_legend</title>
<path fill="#f8f9fa" stroke="black" d="M496,-334.5C496,-334.5 638,-334.5 638,-334.5 644,-334.5 650,-340.5 650,-346.5 650,-346.5 650,-602 650,-602 650,-608 644,-614 638,-614 638,-614 496,-614 496,-614 490,-614 484,-608 484,-602 484,-602 484,-346.5 484,-346.5 484,-340.5 490,-334.5 496,-334.5"/>
<text text-anchor="middle" x="567" y="-598.8" font-family="SimHei" font-size="14.00">图例 Legend</text>
</g>
<!-- RESET -->
<g id="node1" class="node">
<title>RESET</title>
<path fill="#ff6b6b" stroke="black" stroke-width="2" d="M270,-583C270,-583 226,-583 226,-583 220,-583 214,-577 214,-571 214,-571 214,-559 214,-559 214,-553 220,-547 226,-547 226,-547 270,-547 270,-547 276,-547 282,-553 282,-559 282,-559 282,-571 282,-571 282,-577 276,-583 270,-583"/>
<text text-anchor="middle" x="248" y="-568.4" font-family="SimHei" font-size="12.00" fill="white">RESET</text>
<text text-anchor="middle" x="248" y="-555.4" font-family="SimHei" font-size="12.00" fill="white">复位状态</text>
</g>
<!-- IF -->
<g id="node2" class="node">
<title>IF</title>
<path fill="#4ecdc4" stroke="black" stroke-width="2" d="M298.5,-489C298.5,-489 197.5,-489 197.5,-489 191.5,-489 185.5,-483 185.5,-477 185.5,-477 185.5,-454 185.5,-454 185.5,-448 191.5,-442 197.5,-442 197.5,-442 298.5,-442 298.5,-442 304.5,-442 310.5,-448 310.5,-454 310.5,-454 310.5,-477 310.5,-477 310.5,-483 304.5,-489 298.5,-489"/>
<text text-anchor="middle" x="248" y="-475.4" font-family="SimHei" font-size="12.00">IF</text>
<text text-anchor="middle" x="248" y="-462.4" font-family="SimHei" font-size="12.00">取指状态</text>
<text text-anchor="middle" x="248" y="-449.4" font-family="SimHei" font-size="12.00">(Instruction Fetch)</text>
</g>
<!-- RESET&#45;&gt;IF -->
<g id="edge1" class="edge">
<title>RESET&#45;&gt;IF</title>
<path fill="none" stroke="#2d3436" stroke-width="2" d="M248,-546.57C248,-533.57 248,-515.43 248,-499.7"/>
<polygon fill="#2d3436" stroke="#2d3436" stroke-width="2" points="251.5,-499.29 248,-489.29 244.5,-499.29 251.5,-499.29"/>
<text text-anchor="middle" x="276.5" y="-521" font-family="SimHei" font-size="10.00">复位完成</text>
<text text-anchor="middle" x="276.5" y="-510" font-family="SimHei" font-size="10.00">Reset Done</text>
</g>
<!-- IF&#45;&gt;IF -->
<g id="edge11" class="edge">
<title>IF&#45;&gt;IF</title>
<path fill="none" stroke="#636e72" stroke-dasharray="1,5" d="M310.78,-474.56C321.26,-473.29 328.5,-470.27 328.5,-465.5 328.5,-462.44 325.53,-460.1 320.64,-458.48"/>
<polygon fill="#636e72" stroke="#636e72" points="321.28,-455.04 310.78,-456.44 319.86,-461.9 321.28,-455.04"/>
<text text-anchor="middle" x="368" y="-474" font-family="SimHei" font-size="10.00">PC暂停</text>
<text text-anchor="middle" x="368" y="-463" font-family="SimHei" font-size="10.00">(Load&#45;Use冒险)</text>
<text text-anchor="middle" x="368" y="-452" font-family="SimHei" font-size="10.00">PC Stall</text>
</g>
<!-- ID -->
<g id="node3" class="node">
<title>ID</title>
<path fill="#45b7d1" stroke="black" stroke-width="2" d="M305.5,-384C305.5,-384 190.5,-384 190.5,-384 184.5,-384 178.5,-378 178.5,-372 178.5,-372 178.5,-349 178.5,-349 178.5,-343 184.5,-337 190.5,-337 190.5,-337 305.5,-337 305.5,-337 311.5,-337 317.5,-343 317.5,-349 317.5,-349 317.5,-372 317.5,-372 317.5,-378 311.5,-384 305.5,-384"/>
<text text-anchor="middle" x="248" y="-370.4" font-family="SimHei" font-size="12.00">ID</text>
<text text-anchor="middle" x="248" y="-357.4" font-family="SimHei" font-size="12.00">译码状态</text>
<text text-anchor="middle" x="248" y="-344.4" font-family="SimHei" font-size="12.00">(Instruction Decode)</text>
</g>
<!-- IF&#45;&gt;ID -->
<g id="edge2" class="edge">
<title>IF&#45;&gt;ID</title>
<path fill="none" stroke="#0984e3" d="M248,-441.9C248,-427.94 248,-409.81 248,-394.29"/>
<polygon fill="#0984e3" stroke="#0984e3" points="251.5,-394.05 248,-384.05 244.5,-394.05 251.5,-394.05"/>
<text text-anchor="middle" x="295" y="-416" font-family="SimHei" font-size="10.00">指令取出</text>
<text text-anchor="middle" x="295" y="-405" font-family="SimHei" font-size="10.00">Instruction Fetched</text>
</g>
<!-- EX -->
<g id="node4" class="node">
<title>EX</title>
<path fill="#96ceb4" stroke="black" stroke-width="2" d="M162,-257C162,-257 112,-257 112,-257 106,-257 100,-251 100,-245 100,-245 100,-222 100,-222 100,-216 106,-210 112,-210 112,-210 162,-210 162,-210 168,-210 174,-216 174,-222 174,-222 174,-245 174,-245 174,-251 168,-257 162,-257"/>
<text text-anchor="middle" x="137" y="-243.4" font-family="SimHei" font-size="12.00">EX</text>
<text text-anchor="middle" x="137" y="-230.4" font-family="SimHei" font-size="12.00">执行状态</text>
<text text-anchor="middle" x="137" y="-217.4" font-family="SimHei" font-size="12.00">(Execute)</text>
</g>
<!-- ID&#45;&gt;EX -->
<g id="edge3" class="edge">
<title>ID&#45;&gt;EX</title>
<path fill="none" stroke="#0984e3" d="M178.26,-343.05C166.24,-337.28 155.04,-329.5 147,-319 135.92,-304.53 133.19,-284.38 133.35,-267.38"/>
<polygon fill="#0984e3" stroke="#0984e3" points="136.85,-267.42 133.77,-257.29 129.85,-267.13 136.85,-267.42"/>
<text text-anchor="middle" x="191" y="-300" font-family="SimHei" font-size="10.00">译码完成</text>
<text text-anchor="middle" x="191" y="-289" font-family="SimHei" font-size="10.00">Decode Complete</text>
</g>
<!-- STALL -->
<g id="node7" class="node">
<title>STALL</title>
<path fill="#fdcb6e" stroke="black" stroke-width="2" stroke-dasharray="5,2" d="M339.5,-257C339.5,-257 262.5,-257 262.5,-257 256.5,-257 250.5,-251 250.5,-245 250.5,-245 250.5,-222 250.5,-222 250.5,-216 256.5,-210 262.5,-210 262.5,-210 339.5,-210 339.5,-210 345.5,-210 351.5,-216 351.5,-222 351.5,-222 351.5,-245 351.5,-245 351.5,-251 345.5,-257 339.5,-257"/>
<text text-anchor="middle" x="301" y="-243.4" font-family="SimHei" font-size="12.00">STALL</text>
<text text-anchor="middle" x="301" y="-230.4" font-family="SimHei" font-size="12.00">暂停状态</text>
<text text-anchor="middle" x="301" y="-217.4" font-family="SimHei" font-size="12.00">(Pipeline Stall)</text>
</g>
<!-- ID&#45;&gt;STALL -->
<g id="edge7" class="edge">
<title>ID&#45;&gt;STALL</title>
<path fill="none" stroke="#d63031" stroke-dasharray="5,2" d="M314.48,-336.92C321.4,-332.03 327.52,-326.13 332,-319 342.4,-302.44 338.27,-293.52 332,-275 330.95,-271.9 329.55,-268.85 327.94,-265.89"/>
<polygon fill="#d63031" stroke="#d63031" points="330.85,-263.96 322.54,-257.39 324.95,-267.71 330.85,-263.96"/>
<text text-anchor="middle" x="387.5" y="-300" font-family="SimHei" font-size="10.00">Load&#45;Use冒险检测</text>
<text text-anchor="middle" x="387.5" y="-289" font-family="SimHei" font-size="10.00">Load&#45;Use Hazard</text>
</g>
<!-- MEM -->
<g id="node5" class="node">
<title>MEM</title>
<path fill="#ffeaa7" stroke="black" stroke-width="2" d="M369,-152C369,-152 273,-152 273,-152 267,-152 261,-146 261,-140 261,-140 261,-117 261,-117 261,-111 267,-105 273,-105 273,-105 369,-105 369,-105 375,-105 381,-111 381,-117 381,-117 381,-140 381,-140 381,-146 375,-152 369,-152"/>
<text text-anchor="middle" x="321" y="-138.4" font-family="SimHei" font-size="12.00">MEM</text>
<text text-anchor="middle" x="321" y="-125.4" font-family="SimHei" font-size="12.00">访存状态</text>
<text text-anchor="middle" x="321" y="-112.4" font-family="SimHei" font-size="12.00">(Memory Access)</text>
</g>
<!-- EX&#45;&gt;MEM -->
<g id="edge4" class="edge">
<title>EX&#45;&gt;MEM</title>
<path fill="none" stroke="#0984e3" d="M174.16,-211.94C185.66,-205.57 198.36,-198.51 210,-192 230.33,-180.64 252.72,-168.04 272.04,-157.16"/>
<polygon fill="#0984e3" stroke="#0984e3" points="273.97,-160.09 280.96,-152.13 270.53,-153.99 273.97,-160.09"/>
<text text-anchor="middle" x="296" y="-184" font-family="SimHei" font-size="10.00">执行完成</text>
<text text-anchor="middle" x="296" y="-173" font-family="SimHei" font-size="10.00">Execution Complete</text>
</g>
<!-- FLUSH -->
<g id="node8" class="node">
<title>FLUSH</title>
<path fill="#e17055" stroke="black" stroke-width="2" stroke-dasharray="5,2" d="M94,-152C94,-152 12,-152 12,-152 6,-152 0,-146 0,-140 0,-140 0,-117 0,-117 0,-111 6,-105 12,-105 12,-105 94,-105 94,-105 100,-105 106,-111 106,-117 106,-117 106,-140 106,-140 106,-146 100,-152 94,-152"/>
<text text-anchor="middle" x="53" y="-138.4" font-family="SimHei" font-size="12.00">FLUSH</text>
<text text-anchor="middle" x="53" y="-125.4" font-family="SimHei" font-size="12.00">清空状态</text>
<text text-anchor="middle" x="53" y="-112.4" font-family="SimHei" font-size="12.00">(Pipeline Flush)</text>
</g>
<!-- EX&#45;&gt;FLUSH -->
<g id="edge9" class="edge">
<title>EX&#45;&gt;FLUSH</title>
<path fill="none" stroke="#d63031" stroke-dasharray="5,2" d="M118.57,-209.9C106.64,-195.27 90.96,-176.05 77.93,-160.07"/>
<polygon fill="#d63031" stroke="#d63031" points="80.42,-157.59 71.39,-152.05 75,-162.01 80.42,-157.59"/>
<text text-anchor="middle" x="154.5" y="-184" font-family="SimHei" font-size="10.00">分支预测错误</text>
<text text-anchor="middle" x="154.5" y="-173" font-family="SimHei" font-size="10.00">Branch Misprediction</text>
</g>
<!-- WB -->
<g id="node6" class="node">
<title>WB</title>
<path fill="#dfe6e9" stroke="black" stroke-width="2" d="M420,-47C420,-47 354,-47 354,-47 348,-47 342,-41 342,-35 342,-35 342,-12 342,-12 342,-6 348,0 354,0 354,0 420,0 420,0 426,0 432,-6 432,-12 432,-12 432,-35 432,-35 432,-41 426,-47 420,-47"/>
<text text-anchor="middle" x="387" y="-33.4" font-family="SimHei" font-size="12.00">WB</text>
<text text-anchor="middle" x="387" y="-20.4" font-family="SimHei" font-size="12.00">写回状态</text>
<text text-anchor="middle" x="387" y="-7.4" font-family="SimHei" font-size="12.00">(Write Back)</text>
</g>
<!-- MEM&#45;&gt;WB -->
<g id="edge5" class="edge">
<title>MEM&#45;&gt;WB</title>
<path fill="none" stroke="#0984e3" d="M335.43,-104.93C343.04,-93.05 352.52,-78.23 361,-65 362.91,-62.03 364.89,-58.93 366.88,-55.83"/>
<polygon fill="#0984e3" stroke="#0984e3" points="369.96,-57.51 372.42,-47.2 364.07,-53.73 369.96,-57.51"/>
<text text-anchor="middle" x="406.5" y="-79" font-family="SimHei" font-size="10.00">访存完成</text>
<text text-anchor="middle" x="406.5" y="-68" font-family="SimHei" font-size="10.00">Memory Complete</text>
</g>
<!-- WB&#45;&gt;IF -->
<g id="edge6" class="edge">
<title>WB&#45;&gt;IF</title>
<path fill="none" stroke="#0984e3" d="M432.21,-46.01C439.73,-51.31 446.77,-57.63 452,-65 468.47,-88.22 466,-99.03 466,-127.5 466,-361.5 466,-361.5 466,-361.5 466,-427.16 384.16,-451.03 320.76,-459.66"/>
<polygon fill="#0984e3" stroke="#0984e3" points="320.25,-456.2 310.76,-460.92 321.12,-463.15 320.25,-456.2"/>
<text text-anchor="middle" x="523.5" y="-242" font-family="SimHei" font-size="10.00">写回完成，取下一条</text>
<text text-anchor="middle" x="523.5" y="-231" font-family="SimHei" font-size="10.00">Write Back Done,</text>
<text text-anchor="middle" x="523.5" y="-220" font-family="SimHei" font-size="10.00">Fetch Next</text>
</g>
<!-- STALL&#45;&gt;ID -->
<g id="edge8" class="edge">
<title>STALL&#45;&gt;ID</title>
<path fill="none" stroke="#00b894" stroke-dasharray="5,2" d="M259.65,-257.13C253.74,-262.21 248.49,-268.16 245,-275 237,-290.66 237.14,-310.16 239.56,-326.48"/>
<polygon fill="#00b894" stroke="#00b894" points="236.18,-327.46 241.41,-336.67 243.07,-326.21 236.18,-327.46"/>
<text text-anchor="middle" x="286.5" y="-300" font-family="SimHei" font-size="10.00">冒险解除</text>
<text text-anchor="middle" x="286.5" y="-289" font-family="SimHei" font-size="10.00">Hazard Resolved</text>
</g>
<!-- FLUSH&#45;&gt;IF -->
<g id="edge10" class="edge">
<title>FLUSH&#45;&gt;IF</title>
<path fill="none" stroke="#00b894" stroke-dasharray="5,2" d="M44.26,-152.06C31.37,-189.21 11.67,-264.6 40,-319 69.26,-375.18 131.24,-414.14 179.96,-437.51"/>
<polygon fill="#00b894" stroke="#00b894" points="178.67,-440.77 189.21,-441.83 181.63,-434.43 178.67,-440.77"/>
<text text-anchor="middle" x="85" y="-311" font-family="SimHei" font-size="10.00">流水线清空完成</text>
<text text-anchor="middle" x="85" y="-300" font-family="SimHei" font-size="10.00">跳转到目标地址</text>
<text text-anchor="middle" x="85" y="-289" font-family="SimHei" font-size="10.00">Flush Complete,</text>
<text text-anchor="middle" x="85" y="-278" font-family="SimHei" font-size="10.00">Jump to Target</text>
</g>
<!-- legend_normal -->
<g id="node9" class="node">
<title>legend_normal</title>
<path fill="#4ecdc4" stroke="black" d="M627.5,-583C627.5,-583 506.5,-583 506.5,-583 500.5,-583 494.5,-577 494.5,-571 494.5,-571 494.5,-559 494.5,-559 494.5,-553 500.5,-547 506.5,-547 506.5,-547 627.5,-547 627.5,-547 633.5,-547 639.5,-553 639.5,-559 639.5,-559 639.5,-571 639.5,-571 639.5,-577 633.5,-583 627.5,-583"/>
<text text-anchor="middle" x="567" y="-568.4" font-family="SimHei" font-size="12.00">正常流水线状态</text>
<text text-anchor="middle" x="567" y="-555.4" font-family="SimHei" font-size="12.00">Normal Pipeline State</text>
</g>
<!-- legend_hazard -->
<g id="node10" class="node">
<title>legend_hazard</title>
<path fill="#fdcb6e" stroke="black" stroke-dasharray="5,2" d="M630,-483.5C630,-483.5 504,-483.5 504,-483.5 498,-483.5 492,-477.5 492,-471.5 492,-471.5 492,-459.5 492,-459.5 492,-453.5 498,-447.5 504,-447.5 504,-447.5 630,-447.5 630,-447.5 636,-447.5 642,-453.5 642,-459.5 642,-459.5 642,-471.5 642,-471.5 642,-477.5 636,-483.5 630,-483.5"/>
<text text-anchor="middle" x="567" y="-468.9" font-family="SimHei" font-size="12.00">冒险处理状态</text>
<text text-anchor="middle" x="567" y="-455.9" font-family="SimHei" font-size="12.00">Hazard Handling State</text>
</g>
<!-- legend_normal&#45;&gt;legend_hazard -->
<!-- legend_reset -->
<g id="node11" class="node">
<title>legend_reset</title>
<path fill="#ff6b6b" stroke="black" d="M597.5,-378.5C597.5,-378.5 536.5,-378.5 536.5,-378.5 530.5,-378.5 524.5,-372.5 524.5,-366.5 524.5,-366.5 524.5,-354.5 524.5,-354.5 524.5,-348.5 530.5,-342.5 536.5,-342.5 536.5,-342.5 597.5,-342.5 597.5,-342.5 603.5,-342.5 609.5,-348.5 609.5,-354.5 609.5,-354.5 609.5,-366.5 609.5,-366.5 609.5,-372.5 603.5,-378.5 597.5,-378.5"/>
<text text-anchor="middle" x="567" y="-363.9" font-family="SimHei" font-size="12.00" fill="white">复位状态</text>
<text text-anchor="middle" x="567" y="-350.9" font-family="SimHei" font-size="12.00" fill="white">Reset State</text>
</g>
<!-- legend_hazard&#45;&gt;legend_reset -->
</g>
</svg>
